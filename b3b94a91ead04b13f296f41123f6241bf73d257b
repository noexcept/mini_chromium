{
  "comments": [
    {
      "key": {
        "uuid": "16771e32_d1705734",
        "filename": "build/BUILDCONFIG.gn",
        "patchSetId": 1
      },
      "lineNbr": 45,
      "author": {
        "id": 1174099
      },
      "writtenOn": "2017-11-27T20:50:18Z",
      "side": 1,
      "message": "But aren’t there other target types that we’d also want -Wexit-time-destructors for?",
      "revId": "b3b94a91ead04b13f296f41123f6241bf73d257b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "94aa7838_2ffb57c5",
        "filename": "build/BUILDCONFIG.gn",
        "patchSetId": 1
      },
      "lineNbr": 45,
      "author": {
        "id": 1144260
      },
      "writtenOn": "2017-11-27T23:19:24Z",
      "side": 1,
      "message": "BUILDCONFIG.gn is the setup for the project, as if mini_chromium were to be built by itself. But there\u0027s currently only build files and a static library in mini_chromium so there are no other targets to set defaults for, as there\u0027s no test binaries, examples, etc. in mini_chromium.\n\nIn the Crashpad tree, there\u0027s also a BUILDCONFIG.gn (which mostly uses the configuration details from mini_chromium\u0027s build/BUILD.gn as this BUILDCONFIG.gn does). In Crashpad\u0027s we do indeed need to add //build:Wexit_time_destructors to all target types.\n\nWe might want to consider just removing this BUILDCONFIG.gn since it\u0027s probably mostly just serving to be confusing as there\u0027s not much utility to building libbase.a standalone in the mini_chromium tree.\n\nThat would still leave build/BUILD.gn containing compiler flags, etc. to be used here and shared with Crashpad, and base/BUILD.gn which has the list of files that are necessary to build base as a static library.",
      "parentUuid": "16771e32_d1705734",
      "revId": "b3b94a91ead04b13f296f41123f6241bf73d257b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9fbb9f3d_e2c8df2f",
        "filename": "build/BUILDCONFIG.gn",
        "patchSetId": 1
      },
      "lineNbr": 45,
      "author": {
        "id": 1144624
      },
      "writtenOn": "2017-11-28T15:43:38Z",
      "side": 1,
      "message": "I don\u0027t know if we can get away with fully removing mini_chromium\u0027s BUILDCONFIG.gn because we\u0027ll need the is_OS variables. But I support the idea of it being as minimal as possible since mini_chromium is a library for projects to build on top of.",
      "parentUuid": "94aa7838_2ffb57c5",
      "revId": "b3b94a91ead04b13f296f41123f6241bf73d257b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7b2c9562_726d86e3",
        "filename": "build/BUILDCONFIG.gn",
        "patchSetId": 1
      },
      "lineNbr": 45,
      "author": {
        "id": 1144260
      },
      "writtenOn": "2017-11-29T00:48:17Z",
      "side": 1,
      "message": "I\u0027m not sure if I\u0027m getting confused or we all just have different visions of how this might work. :)\n\nHere\u0027s where I\u0027m at at the moment:\n- mini_chromium build/BUILDCONFIG.gn configures mini_chromium\u0027s build referring to its build/BUILD.gn.\n- Crashpad build/BUILDCONFIG.gn configures Crashpad\u0027s build, *also* referring to mini_chromium\u0027s build/BUILD.gn.\n- In a Crashpad build, mini_chromium/build/BUILDCONFIG.gn isn\u0027t referenced at all. So the only thing that mini_chromium\u0027s build/BUILDCONFIG.gn is useful for is doing a standalone build of mini_chromium\u0027s libbase.a, or as an example for a new project to copy and start from.\n\nSo I think it could be deleted without any effect other than breaking the standalone mini_chromium build which I don\u0027t think we care about. If I did that, then I\u0027d also delete mini_chromium\u0027s root .gn file.\n\nIn any case, I can take or leave the change to or removal of this file, but the gmock-in-Crashpad build needs to move the -W flag out into a separate config in build/BUILD.gn.",
      "parentUuid": "9fbb9f3d_e2c8df2f",
      "revId": "b3b94a91ead04b13f296f41123f6241bf73d257b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f8b258ed_a774f942",
        "filename": "build/BUILDCONFIG.gn",
        "patchSetId": 1
      },
      "lineNbr": 45,
      "author": {
        "id": 1144624
      },
      "writtenOn": "2017-11-29T15:53:05Z",
      "side": 1,
      "message": "I think we\u0027re just talking past each other because I agree with what you wrote. I\u0027m in favor of not having a standalone mini_chromium build.",
      "parentUuid": "7b2c9562_726d86e3",
      "revId": "b3b94a91ead04b13f296f41123f6241bf73d257b",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}